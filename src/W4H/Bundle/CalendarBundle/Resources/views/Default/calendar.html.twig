{% extends "::base.html.twig" %}

{% block javascripts %}
  <script type="text/javascript" src="{{ asset('js/draggable.js') }}"></script>
{% endblock %}

{% block header %}
  {% form_theme form 'W4HCalendarBundle:Form:fields.html.twig' %}
  <form action="{{ path('calendar_filter') }}" method="post">
    {{ form_widget(form) }}
    <div class="actions">
      <input type="submit" value="Apply" />
      <a href="#">Reset</a>
    </div>
  </form>
{% endblock %}

{% block content %}
<div id="calendar">

  <div class="column times">
    <label>-- : --</label>
    <ul>
      {% for key, schedule in schedules %}
        <li class="unit{% if schedule.is_hour %} hour{% endif %}"><div>{{ key }}</div></li>
      {% endfor %}
    </ul>
  </div>

  <div class="scrollzone">
    <div class="columns">
      {% for key, schedules in tasks %}
      <div class="column room">
        <label>Location id : {{ key }}</label>
        <ul>
          {% for key, tasks in schedules %}
            <li class="unit">
              {% for task in tasks %}
                <div id="task_{{ task.id }}" class="task unitx1" draggable="true">{{ task.activity.name }}</div>
              {% endfor %}
            </li>
          {% endfor %}
        </ul>
      </div>
      {% endfor %}
    </div>
  </div>

</div>
{% endblock %}

